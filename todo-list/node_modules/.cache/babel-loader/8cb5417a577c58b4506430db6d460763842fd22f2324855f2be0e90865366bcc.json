{"ast":null,"code":"var _loadState;\nimport { createStore } from \"redux\";\nimport { loadState, saveState } from \"./localStorage.js\";\nconst initialState = {\n  tasks: ((_loadState = loadState()) === null || _loadState === void 0 ? void 0 : _loadState.tasks) || [],\n  filter: \"all\",\n  editingTask: null\n};\nfunction todoReducer(state = initialState, action) {\n  let newState;\n  switch (action.type) {\n    case \"ADD_TASK\":\n      newState = {\n        ...state,\n        tasks: [...state.tasks, action.payload]\n      };\n      break;\n    case \"UPDATE_TASK\":\n      newState = {\n        ...state,\n        tasks: state.tasks.map(task => task.id === action.payload.id ? action.payload : task),\n        editingTask: null\n      };\n      break;\n    case \"DELETE_TASK\":\n      newState = {\n        ...state,\n        tasks: state.tasks.filter(task => task.id !== action.payload)\n      };\n      break;\n    case \"TOGGLE_TASK\":\n      newState = {\n        ...state,\n        tasks: state.tasks.map(task => task.id === action.payload ? {\n          ...task,\n          isDone: !task.isDone\n        } : task)\n      };\n      break;\n    case \"SET_FILTER\":\n      newState = {\n        ...state,\n        filter: action.payload\n      };\n      break;\n\n    // Dans votre reducer (store.js)\n    case \"SET_EDITING_TASK\":\n      return {\n        ...state,\n        editingTask: action.payload\n      };\n    default:\n      return state;\n  }\n  saveState(newState);\n  return newState;\n}\nconst store = createStore(todoReducer);\nexport default store;","map":{"version":3,"names":["createStore","loadState","saveState","initialState","tasks","_loadState","filter","editingTask","todoReducer","state","action","newState","type","payload","map","task","id","isDone","store"],"sources":["C:/Users/KNCJ1/OneDrive/Bureau/GOMYCODE T.II/CHECKPOINT/Gestion d'Etat/todo-list/src/store/store.js"],"sourcesContent":["import { createStore } from \"redux\";\r\nimport { loadState, saveState } from \"./localStorage.js\";\r\n\r\nconst initialState = {\r\n  tasks: loadState()?.tasks || [],\r\n  filter: \"all\",\r\n  editingTask: null\r\n};\r\n\r\nfunction todoReducer(state = initialState, action) {\r\n  let newState;\r\n\r\n  switch (action.type) {\r\n    case \"ADD_TASK\":\r\n      newState = {\r\n        ...state,\r\n        tasks: [...state.tasks, action.payload]\r\n      };\r\n      break;\r\n\r\n    case \"UPDATE_TASK\":\r\n      newState = {\r\n        ...state,\r\n        tasks: state.tasks.map((task) =>\r\n          task.id === action.payload.id ? action.payload : task\r\n        ),\r\n        editingTask: null\r\n      };\r\n      break;\r\n\r\n    case \"DELETE_TASK\":\r\n      newState = {\r\n        ...state,\r\n        tasks: state.tasks.filter((task) => task.id !== action.payload)\r\n      };\r\n      break;\r\n\r\n    case \"TOGGLE_TASK\":\r\n      newState = {\r\n        ...state,\r\n        tasks: state.tasks.map((task) =>\r\n          task.id === action.payload ? { ...task, isDone: !task.isDone } : task\r\n        )\r\n      };\r\n      break;\r\n\r\n    case \"SET_FILTER\":\r\n      newState = {\r\n        ...state,\r\n        filter: action.payload\r\n      };\r\n      break;\r\n\r\n    // Dans votre reducer (store.js)\r\n    case \"SET_EDITING_TASK\":\r\n      return {\r\n        ...state,\r\n        editingTask: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  saveState(newState);\r\n  return newState;\r\n}\r\n\r\nconst store = createStore(todoReducer);\r\n\r\nexport default store;\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,SAAS,EAAEC,SAAS,QAAQ,mBAAmB;AAExD,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAAC,UAAA,GAAAJ,SAAS,CAAC,CAAC,cAAAI,UAAA,uBAAXA,UAAA,CAAaD,KAAK,KAAI,EAAE;EAC/BE,MAAM,EAAE,KAAK;EACbC,WAAW,EAAE;AACf,CAAC;AAED,SAASC,WAAWA,CAACC,KAAK,GAAGN,YAAY,EAAEO,MAAM,EAAE;EACjD,IAAIC,QAAQ;EAEZ,QAAQD,MAAM,CAACE,IAAI;IACjB,KAAK,UAAU;MACbD,QAAQ,GAAG;QACT,GAAGF,KAAK;QACRL,KAAK,EAAE,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAEM,MAAM,CAACG,OAAO;MACxC,CAAC;MACD;IAEF,KAAK,aAAa;MAChBF,QAAQ,GAAG;QACT,GAAGF,KAAK;QACRL,KAAK,EAAEK,KAAK,CAACL,KAAK,CAACU,GAAG,CAAEC,IAAI,IAC1BA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACG,OAAO,CAACG,EAAE,GAAGN,MAAM,CAACG,OAAO,GAAGE,IACnD,CAAC;QACDR,WAAW,EAAE;MACf,CAAC;MACD;IAEF,KAAK,aAAa;MAChBI,QAAQ,GAAG;QACT,GAAGF,KAAK;QACRL,KAAK,EAAEK,KAAK,CAACL,KAAK,CAACE,MAAM,CAAES,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACG,OAAO;MAChE,CAAC;MACD;IAEF,KAAK,aAAa;MAChBF,QAAQ,GAAG;QACT,GAAGF,KAAK;QACRL,KAAK,EAAEK,KAAK,CAACL,KAAK,CAACU,GAAG,CAAEC,IAAI,IAC1BA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACG,OAAO,GAAG;UAAE,GAAGE,IAAI;UAAEE,MAAM,EAAE,CAACF,IAAI,CAACE;QAAO,CAAC,GAAGF,IACnE;MACF,CAAC;MACD;IAEF,KAAK,YAAY;MACfJ,QAAQ,GAAG;QACT,GAAGF,KAAK;QACRH,MAAM,EAAEI,MAAM,CAACG;MACjB,CAAC;MACD;;IAEF;IACA,KAAK,kBAAkB;MACrB,OAAO;QACL,GAAGJ,KAAK;QACRF,WAAW,EAAEG,MAAM,CAACG;MACtB,CAAC;IAEH;MACE,OAAOJ,KAAK;EAChB;EAEAP,SAAS,CAACS,QAAQ,CAAC;EACnB,OAAOA,QAAQ;AACjB;AAEA,MAAMO,KAAK,GAAGlB,WAAW,CAACQ,WAAW,CAAC;AAEtC,eAAeU,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}