{"ast":null,"code":"import _objectSpread from\"C:/Users/KNCJ1/OneDrive/Bureau/GOMYCODE T.II/CHECKPOINT/ToDo list- Deploiement Checkpoint/todo-list/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{getTasks,createTask,updateTask,deleteTask}from\"./api\";import TaskForm from\"./components/TaskForm\";import TaskList from\"./components/TaskList\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[tasks,setTasks]=useState([]);const[editingTask,setEditingTask]=useState(null);useEffect(()=>{getTasks().then(setTasks);},[]);const handleSave=async(id,task)=>{if(id){const updated=await updateTask(id,task);setTasks(prev=>prev.map(t=>t._id===id?updated:t));}else{const newTask=await createTask(_objectSpread(_objectSpread({},task),{},{completed:false}));setTasks(prev=>[...prev,newTask]);}setEditingTask(null);console.log(\"tâche à faire :\",task);};const handleToggle=async task=>{const updated=await updateTask(task._id,_objectSpread(_objectSpread({},task),{},{completed:!task.completed}));setTasks(prev=>prev.map(t=>t._id===task._id?updated:t));};const handleDelete=async id=>{if(window.confirm(\"Voulez-vous vraiment supprimer cette tâche ?\")){await deleteTask(id);setTasks(prev=>prev.filter(t=>t._id!==id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"go-my-task\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"GoMyTask\"}),/*#__PURE__*/_jsx(TaskForm,{onSave:handleSave,editingTask:editingTask,cancelEdit:()=>setEditingTask(null)})]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(TaskList,{tasks:tasks,onToggle:handleToggle,onEdit:setEditingTask,onDelete:handleDelete})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","getTasks","createTask","updateTask","deleteTask","TaskForm","TaskList","jsx","_jsx","jsxs","_jsxs","App","tasks","setTasks","editingTask","setEditingTask","then","handleSave","id","task","updated","prev","map","t","_id","newTask","_objectSpread","completed","console","log","handleToggle","handleDelete","window","confirm","filter","className","children","onSave","cancelEdit","onToggle","onEdit","onDelete"],"sources":["C:/Users/KNCJ1/OneDrive/Bureau/GOMYCODE T.II/CHECKPOINT/ToDo list- Deploiement Checkpoint/todo-list/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getTasks, createTask, updateTask, deleteTask } from \"./api\";\nimport TaskForm from \"./components/TaskForm\";\nimport TaskList from \"./components/TaskList\";\nimport \"./App.css\";\n\nfunction App() {\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n\n  useEffect(() => {\n    getTasks().then(setTasks);\n  }, []);\n\n  const handleSave = async (id, task) => {\n    if (id) {\n      const updated = await updateTask(id, task);\n      setTasks((prev) => prev.map((t) => (t._id === id ? updated : t)));\n    } else {\n      const newTask = await createTask({ ...task, completed: false });\n      setTasks((prev) => [...prev, newTask]);\n    }\n    setEditingTask(null);\n    console.log(\"tâche à faire :\", task);\n  };\n\n  const handleToggle = async (task) => {\n    const updated = await updateTask(task._id, {\n      ...task,\n      completed: !task.completed\n    });\n    setTasks((prev) => prev.map((t) => (t._id === task._id ? updated : t)));\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Voulez-vous vraiment supprimer cette tâche ?\")) {\n      await deleteTask(id);\n      setTasks((prev) => prev.filter((t) => t._id !== id));\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <span className=\"go-my-task\">\n        <h1>GoMyTask</h1>\n        <TaskForm\n          onSave={handleSave}\n          editingTask={editingTask}\n          cancelEdit={() => setEditingTask(null)}\n        />\n      </span>\n      <span>\n        <TaskList\n          tasks={tasks}\n          onToggle={handleToggle}\n          onEdit={setEditingTask}\n          onDelete={handleDelete}\n        />\n      </span>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}